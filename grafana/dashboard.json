{
    "__inputs": [
 {
"name": "PROMETHEUS_(OTEL)",
"label": "Prometheus (otel)",
"description": "",
"type": "datasource",
"pluginId": "prometheus",
"pluginName": "Prometheus"
 },
 {
"name": "LOKI(OTEL)",
"label": "Loki (otel)",
"description": "",
"type": "datasource",
"pluginId": "loki",
"pluginName": "loki"
 }
    ],
    "__elements": {},
    "__requires": [
 {
"type": "panel",
"id": "bargauge",
"name": "Bar gauge",
"version": ""
 },
 {
"type": "datasource",
"id": "loki",
"name": "loki",
"version": "1.0.0"
 },
 {
"type": "panel",
"id": "gauge",
"name": "Gauge",
"version": ""
 },
 {
"type": "grafana",
"id": "grafana",
"name": "Grafana",
"version": "9.4.7"
 },
 {
"type": "datasource",
"id": "prometheus",
"name": "Prometheus",
"version": "1.0.0"
 },
 {
"type": "panel",
"id": "table",
"name": "Table",
"version": ""
 },
 {
"type": "panel",
"id": "timeseries",
"name": "Time series",
"version": ""
 }
    ],
    "annotations": {
 "list": [
{
"builtIn": 1,
"datasource": {
"type": "grafana",
"uid": "-- Grafana --"
},
"enable": true,
"hide": true,
"iconColor": "rgba(0, 211, 255, 1)",
"name": "Annotations & Alerts",
"target": {
"limit": 100,
"matchAny": false,
"tags": [],
"type": "dashboard"
},
"type": "dashboard"
}
 ]
    },
    "editable": true,
    "fiscalYearStartMonth": 0,
    "graphTooltip": 0,
    "id": null,
    "links": [],
    "liveNow": true,
    "panels": [
 {
"collapsed": false,
"gridPos": {
"h": 1,
"w": 24,
"x": 0,
"y": 0
},
"id": 5,
"panels": [],
"title": "System Info",
"type": "row"
 },
 {
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"description": "",
"fieldConfig": {
"defaults": {
"color": {
"mode": "palette-classic"
},
"custom": {
"axisCenteredZero": false,
"axisColorMode": "text",
"axisLabel": "",
"axisPlacement": "auto",
"barAlignment": 0,
"drawStyle": "line",
"fillOpacity": 0,
"gradientMode": "none",
"hideFrom": {
"legend": false,
"tooltip": false,
"viz": false
},
"lineInterpolation": "linear",
"lineWidth": 1,
"pointSize": 5,
"scaleDistribution": {
"type": "linear"
},
"showPoints": "auto",
"spanNulls": false,
"stacking": {
"group": "A",
"mode": "none"
},
"thresholdsStyle": {
"mode": "off"
}
},
"mappings": [],
"max": 100,
"min": 0,
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green",
"value": null
},
{
"color": "red",
"value": 80
}
]
},
"unit": "percent"
},
"overrides": []
},
"gridPos": {
"h": 11,
"w": 6,
"x": 0,
"y": 1
},
"id": 3,
"options": {
"legend": {
"calcs": [],
"displayMode": "list",
"placement": "bottom",
"showLegend": true
},
"tooltip": {
"mode": "single",
"sort": "none"
}
},
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "100 - (avg by (instance) (irate(node_cpu_seconds_total{instance=~\"$hostname\", appgroup=~\"$appgroup\", app=~\"$containername\", mode=\"idle\"}[5m])) * 100)",
"range": true,
"refId": "A"
}
],
"title": "CPU 사용률",
"type": "timeseries"
 },
 {
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "palette-classic"
},
"custom": {
"axisCenteredZero": false,
"axisColorMode": "text",
"axisLabel": "",
"axisPlacement": "auto",
"barAlignment": 0,
"drawStyle": "line",
"fillOpacity": 0,
"gradientMode": "none",
"hideFrom": {
"legend": false,
"tooltip": false,
"viz": false
},
"lineInterpolation": "linear",
"lineWidth": 1,
"pointSize": 5,
"scaleDistribution": {
"type": "linear"
},
"showPoints": "auto",
"spanNulls": false,
"stacking": {
"group": "A",
"mode": "none"
},
"thresholdsStyle": {
"mode": "off"
}
},
"mappings": [],
"max": 100,
"min": 0,
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green",
"value": null
},
{
"color": "red",
"value": 80
}
]
},
"unit": "percent"
},
"overrides": []
},
"gridPos": {
"h": 11,
"w": 8,
"x": 6,
"y": 1
},
"id": 1,
"options": {
"legend": {
"calcs": [],
"displayMode": "list",
"placement": "bottom",
"showLegend": true
},
"tooltip": {
"mode": "single",
"sort": "none"
}
},
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "code",
"exemplar": false,
"expr": "100 * (1 - ((avg_over_time(node_memory_MemFree_bytes{instance=~\"$hostname\", appgroup=~\"$appgroup\", app=~\"$containername\"}[5m]) + avg_over_time(node_memory_Cached_bytes{instance=~\"$hostname\", appgroup=~\"$appgroup\", app=~\"$containername\"}[5m]) + avg_over_time(node_memory_Buffers_bytes{instance=~\"$hostname\", appgroup=~\"$appgroup\", app=~\"$containername\"}[5m])) / avg_over_time(node_memory_MemTotal_bytes{instance=~\"$hostname\", appgroup=~\"$appgroup\", app=~\"$containername\"}[5m])))",
"instant": true,
"interval": "",
"key": "Q-474d25db-e0eb-4d3f-9c4a-287290968c05-0",
"legendFormat": "__auto",
"range": true,
"refId": "A"
}
],
"title": "메모리 사용률",
"type": "timeseries"
 },
 {
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "palette-classic"
},
"custom": {
"axisCenteredZero": false,
"axisColorMode": "text",
"axisLabel": "",
"axisPlacement": "auto",
"barAlignment": 0,
"drawStyle": "line",
"fillOpacity": 0,
"gradientMode": "none",
"hideFrom": {
"legend": false,
"tooltip": false,
"viz": false
},
"lineInterpolation": "linear",
"lineStyle": {
"fill": "solid"
},
"lineWidth": 1,
"pointSize": 5,
"scaleDistribution": {
"type": "linear"
},
"showPoints": "always",
"spanNulls": false,
"stacking": {
"group": "A",
"mode": "none"
},
"thresholdsStyle": {
"mode": "off"
}
},
"mappings": [],
"max": 5000,
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green",
"value": null
},
{
"color": "red",
"value": 80
}
]
},
"unit": "dtdurationms"
},
"overrides": [
{
"__systemRef": "hideSeriesFrom",
"matcher": {
"id": "byNames",
"options": {
"mode": "exclude",
"names": [
"{http_status_code=\"200\"}"
],
"prefix": "All except:",
"readOnly": true
}
},
"properties": [
{
"id": "custom.hideFrom",
"value": {
"legend": false,
"tooltip": false,
"viz": true
}
}
]
}
]
},
"gridPos": {
"h": 17,
"w": 10,
"x": 14,
"y": 1
},
"id": 17,
"options": {
"legend": {
"calcs": [],
"displayMode": "list",
"placement": "bottom",
"showLegend": true
},
"tooltip": {
"mode": "single",
"sort": "none"
}
},
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"exemplar": true,
"expr": "histogram_quantile(0.9, sum by(le, http_status_code) (rate(http_server_duration_bucket{instance=~\"$hostname\", appgroup=~\"$appgroup\", app=~\"$containername\"}[5m])))",
"range": true,
"refId": "A"
}
],
"title": "http duration bucket",
"type": "timeseries"
 },
 {
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "continuous-GrYlRd"
},
"mappings": [],
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green",
"value": null
},
{
"color": "red",
"value": 80
}
]
}
},
"overrides": []
},
"gridPos": {
"h": 6,
"w": 6,
"x": 0,
"y": 12
},
"id": 13,
"options": {
"displayMode": "basic",
"minVizHeight": 10,
"minVizWidth": 0,
"orientation": "auto",
"reduceOptions": {
"calcs": [
"lastNotNull"
],
"fields": "",
"values": false
},
"showUnfilled": true
},
"pluginVersion": "9.4.7",
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "max(db_client_connections_usage{state=\"used\"})",
"format": "time_series",
"interval": "",
"legendFormat": "used",
"range": true,
"refId": "A"
},
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "max(db_client_connections_usage{state=\"idle\"})",
"hide": false,
"legendFormat": "idle",
"range": true,
"refId": "B"
}
],
"title": "DB connection",
"type": "bargauge"
 },
 {
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "thresholds"
},
"mappings": [],
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green",
"value": null
},
{
"color": "red",
"value": 80
}
]
}
},
"overrides": []
},
"gridPos": {
"h": 6,
"w": 4,
"x": 6,
"y": 12
},
"id": 7,
"options": {
"displayMode": "gradient",
"minVizHeight": 10,
"minVizWidth": 0,
"orientation": "horizontal",
"reduceOptions": {
"calcs": [
"lastNotNull"
],
"fields": "",
"values": false
},
"showUnfilled": true
},
"pluginVersion": "9.4.7",
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "http_server_active_requests",
"range": true,
"refId": "A"
}
],
"title": "Active Requests",
"type": "bargauge"
 },
 {
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "thresholds"
},
"mappings": [],
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green",
"value": null
},
{
"color": "red",
"value": 80
}
]
}
},
"overrides": []
},
"gridPos": {
"h": 6,
"w": 4,
"x": 10,
"y": 12
},
"id": 11,
"options": {
"orientation": "auto",
"reduceOptions": {
"calcs": [
"lastNotNull"
],
"fields": "",
"values": false
},
"showThresholdLabels": false,
"showThresholdMarkers": true
},
"pluginVersion": "9.4.7",
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "sum by(instance) (process_runtime_jvm_threads_count{appgroup=~\"$appgroup\", app=~\"$containername\", instance=~\"$hostname\"})",
"range": true,
"refId": "A"
}
],
"title": "Executing threads",
"type": "gauge"
 },
 {
"collapsed": true,
"gridPos": {
"h": 1,
"w": 24,
"x": 0,
"y": 18
},
"id": 21,
"panels": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "palette-classic"
},
"custom": {
"axisCenteredZero": false,
"axisColorMode": "text",
"axisLabel": "",
"axisPlacement": "auto",
"barAlignment": 0,
"drawStyle": "line",
"fillOpacity": 0,
"gradientMode": "none",
"hideFrom": {
"legend": false,
"tooltip": false,
"viz": false
},
"lineInterpolation": "linear",
"lineWidth": 1,
"pointSize": 5,
"scaleDistribution": {
"type": "linear"
},
"showPoints": "auto",
"spanNulls": false,
"stacking": {
"group": "A",
"mode": "none"
},
"thresholdsStyle": {
"mode": "off"
}
},
"mappings": [],
"min": 0,
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green"
},
{
"color": "red",
"value": 80
}
]
},
"unit": "bytes"
},
"overrides": []
},
"gridPos": {
"h": 9,
"w": 8,
"x": 0,
"y": 1
},
"id": 23,
"options": {
"legend": {
"calcs": [],
"displayMode": "list",
"placement": "bottom",
"showLegend": true
},
"tooltip": {
"mode": "single",
"sort": "none"
}
},
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "sum by(instance) (process_runtime_jvm_memory_usage{appgroup=~\"$appgroup\", instance=~\"$hostname\", app=~\"$containername\"})",
"legendFormat": "__auto",
"range": true,
"refId": "A"
}
],
"title": "Heap Memory Usage(measure of memory used)",
"type": "timeseries"
},
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "palette-classic"
},
"custom": {
"axisCenteredZero": false,
"axisColorMode": "text",
"axisLabel": "",
"axisPlacement": "auto",
"barAlignment": 0,
"drawStyle": "line",
"fillOpacity": 0,
"gradientMode": "none",
"hideFrom": {
"legend": false,
"tooltip": false,
"viz": false
},
"lineInterpolation": "linear",
"lineWidth": 1,
"pointSize": 5,
"scaleDistribution": {
"type": "linear"
},
"showPoints": "auto",
"spanNulls": false,
"stacking": {
"group": "A",
"mode": "none"
},
"thresholdsStyle": {
"mode": "off"
}
},
"mappings": [],
"min": 0,
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green"
},
{
"color": "red",
"value": 80
}
]
}
},
"overrides": []
},
"gridPos": {
"h": 9,
"w": 8,
"x": 8,
"y": 1
},
"id": 25,
"options": {
"legend": {
"calcs": [],
"displayMode": "list",
"placement": "bottom",
"showLegend": true
},
"tooltip": {
"mode": "single",
"sort": "none"
}
},
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "sum by(instance) (process_runtime_jvm_threads_count{appgroup=~\"$appgroup\", instance=~\"$hostname\", app=~\"$containername\"})",
"legendFormat": "__auto",
"range": true,
"refId": "A"
}
],
"title": "Threads(number of executing threads)",
"type": "timeseries"
},
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"fieldConfig": {
"defaults": {
"color": {
"mode": "palette-classic"
},
"custom": {
"axisCenteredZero": false,
"axisColorMode": "text",
"axisLabel": "",
"axisPlacement": "auto",
"barAlignment": 0,
"drawStyle": "line",
"fillOpacity": 0,
"gradientMode": "none",
"hideFrom": {
"legend": false,
"tooltip": false,
"viz": false
},
"lineInterpolation": "linear",
"lineWidth": 1,
"pointSize": 5,
"scaleDistribution": {
"type": "linear"
},
"showPoints": "auto",
"spanNulls": false,
"stacking": {
"group": "A",
"mode": "none"
},
"thresholdsStyle": {
"mode": "off"
}
},
"mappings": [],
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green"
},
{
"color": "red",
"value": 80
}
]
}
},
"overrides": []
},
"gridPos": {
"h": 9,
"w": 8,
"x": 16,
"y": 1
},
"id": 27,
"options": {
"legend": {
"calcs": [],
"displayMode": "list",
"placement": "bottom",
"showLegend": true
},
"tooltip": {
"mode": "single",
"sort": "none"
}
},
"targets": [
{
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"editorMode": "builder",
"expr": "sum by(instance) (process_runtime_jvm_classes_loaded_total{appgroup=~\"$appgroup\", instance=~\"$hostname\", app=~\"$containername\"})",
"legendFormat": "__auto",
"range": true,
"refId": "A"
}
],
"title": "Classes(number ofclasses loaded since JVM start)",
"type": "timeseries"
}
],
"title": "JVM Console",
"type": "row"
 },
 {
"collapsed": true,
"gridPos": {
"h": 1,
"w": 24,
"x": 0,
"y": 19
},
"id": 9,
"panels": [
{
"datasource": {
"type": "loki",
"uid": "${LOKI(OTEL)}"
},
"description": "",
"fieldConfig": {
"defaults": {
"color": {
"mode": "thresholds"
},
"custom": {
"align": "auto",
"cellOptions": {
"type": "color-text"
},
"filterable": true,
"inspect": true
},
"mappings": [],
"thresholds": {
"mode": "absolute",
"steps": [
{
"color": "green"
},
{
"color": "red",
"value": 80
}
]
}
},
"overrides": [
{
"matcher": {
"id": "byName",
"options": "시간"
},
"properties": [
{
"id": "custom.width",
"value": 172
}
]
},
{
"matcher": {
"id": "byName",
"options": "호스트"
},
"properties": [
{
"id": "custom.width",
"value": 99
}
]
},
{
"matcher": {
"id": "byName",
"options": "APP"
},
"properties": [
{
"id": "custom.width",
"value": 43
}
]
}
]
},
"gridPos": {
"h": 12,
"w": 24,
"x": 0,
"y": 51
},
"id": 19,
"options": {
"footer": {
"countRows": false,
"enablePagination": false,
"fields": "",
"reducer": [
"sum"
],
"show": false
},
"frameIndex": 0,
"showHeader": true,
"sortBy": [
{
"desc": true,
"displayName": "시간"
}
]
},
"pluginVersion": "9.4.7",
"targets": [
{
"alias": "",
"bucketAggs": [],
"datasource": {
"type": "loki",
"uid": "${LOKI(OTEL)}"
},
"metrics": [
{
"id": "1",
"settings": {
"size": "100"
},
"type": "raw_data"
}
],
"query": "fields.type : \"jeus\"",
"refId": "A",
"timeField": "@timestamp"
}
],
"title": "LOG",
"transformations": [
{
"id": "filterFieldsByName",
"options": {
"include": {
"names": [
"fields.type",
"message",
"@timestamp",
"agent.hostname"
]
}
}
},
{
"id": "organize",
"options": {
"excludeByName": {},
"indexByName": {},
"renameByName": {
"@timestamp": "시간",
"agent.hostname": "호스트",
"fields.type": "APP",
"message": "로그"
}
}
}
],
"transparent": true,
"type": "table"
}
],
"title": "Log Analysis & Debug",
"type": "row"
 }
    ],
    "refresh": "5s",
    "revision": 1,
    "schemaVersion": 38,
    "style": "dark",
    "tags": [
 "application",
 "APM",
 "otel"
    ],
    "templating": {
 "list": [
{
"allValue": ".*",
"current": {},
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"definition": "label_values(appgroup)",
"description": "appgroup",
"hide": 0,
"includeAll": true,
"label": "appgroup",
"multi": true,
"name": "appgroup",
"options": [],
"query": {
"query": "label_values(appgroup)",
"refId": "StandardVariableQuery"
},
"refresh": 1,
"regex": "",
"skipUrlSync": false,
"sort": 0,
"type": "query"
},
{
"allValue": ".*",
"current": {},
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"definition": "label_values(instance)",
"description": "hostname",
"hide": 0,
"includeAll": true,
"label": "hostname",
"multi": true,
"name": "hostname",
"options": [],
"query": {
"query": "label_values(instance)",
"refId": "StandardVariableQuery"
},
"refresh": 1,
"regex": "",
"skipUrlSync": false,
"sort": 0,
"type": "query"
},
{
"allValue": ".*",
"current": {},
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"definition": "label_values(app{instance=~\"$hostname\"})",
"description": "containername",
"hide": 0,
"includeAll": true,
"label": "containername",
"multi": true,
"name": "containername",
"options": [],
"query": {
"query": "label_values(app{instance=~\"$hostname\"})",
"refId": "StandardVariableQuery"
},
"refresh": 1,
"regex": "",
"skipUrlSync": false,
"sort": 0,
"type": "query"
},
{
"current": {},
"datasource": {
"type": "prometheus",
"uid": "${PROMETHEUS_(OTEL)}"
},
"definition": "label_values(dbgroup)",
"description": "sql",
"hide": 0,
"includeAll": false,
"label": "sql",
"multi": false,
"name": "sql",
"options": [],
"query": {
"query": "label_values(dbgroup)",
"refId": "StandardVariableQuery"
},
"refresh": 1,
"regex": "",
"skipUrlSync": false,
"sort": 0,
"type": "query"
}
 ]
    },
    "time": {
 "from": "now-5m",
 "to": "now"
    },
    "timepicker": {
 "hidden": false
    },
    "timezone": "",
    "title": "Opentelemetry Application APM",
    "uid": "54mJ9JUVk",
    "version": 51,
    "weekStart": ""
    }
    